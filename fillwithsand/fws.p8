pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
#include globals.lua
#include levels.lua
#include menu.lua
#include editor.lua
#include game.lua
#include simulation.lua
states={
    {i=init_menu,u=update_menu,d=draw_menu},
    {i=init_editor,u=update_editor,d=draw_editor},
    {i=init_game,u=update_game,d=draw_game}
}
function _init()
    pal({5,4,7,140,140,11,15,8,137,10,9,8,137,10,9},1)
    cls(0)
    init_menu()
    init_simulation()
    init_editor()
end
function _update()
    local s=state
    states[state].u()
    if(simulation_running) update_simulation()
    if s!=state then
        states[state].i()
    end
end
function _draw()
    states[state].d()
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
